{{ "snippet-product-card.css" | asset_url | stylesheet_tag }}

{% liquid
  assign current_varient = product.selected_or_first_available_variant
  assign featured_image = current_varient.image | default : product.featured_image
%}




{% assign discountPercentage = current_varient.compare_at_price | minus: current_varient.price | times: 100 | divided_by: current_varient.compare_at_price %}





<product-card class="product-card">
  <a href="{{ product.url }}">
    <div class="product-card__image">
      {% render "responsive-image", desktopImage: featured_image, class: "media media--square global-media-settings" %}
    </div>
  </a>

  <div class="product-card__quick-view">
      <a href="#" class="custom-button-secondary_color"> Quick Look</a>    
  </div>

  <div class="product-card__left-tags">
    {% if discountPercentage > 0 %}
      <span class="h5 product-card__discount">
        {{ discountPercentage }}%off
      </span>
    {% endif %}  
  </div>


  
  <div class="product-card__content {{ product_text_alignment }}">
    <h2 class="h5"> {{ product.vendor }} </h2>
    <a class="h3" href="{{ current_varient.url }}"> {{ product.title }} </a> 
    <div class="product-card__prices">
      {% if product.price_varies %}
        <span class="h3"> From {{ product.price_min | money_with_currency }}</span>
      {% else %}
        <span class="h3">  {{ current_varient.price | money_with_currency }}</span>   
      {% endif %}  
      {% if current_varient.compare_at_price > current_varient.price %}
        <s class="h4"> {{ current_varient.compare_at_price | money_with_currency }} </s>
      {% endif %}
      <div class="h4">{{ current_varient.inventory_quantity }} in stock</div>
    </div>
  </div>
</product-card>